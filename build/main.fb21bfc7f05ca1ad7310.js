(()=>{var e={77:()=>{/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(document.getElementById("plug").style.display="flex")},405:()=>{var e=document.getElementById("start-canvas"),t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight,o()}));var n="#ff0a00",r=Math.floor(Math.min(window.innerHeight,window.innerWidth)/20),a=.01,i=[];e.addEventListener("click",(function(e){var t=(l(100)-50)*a,n=(l(100)-50)*a,r=["♠","♥","♦","♣"],o=r[l(r.length)];i.push({x:e.clientX,y:e.clientY,mx:t,my:n,suit:o})})),function(){for(var t=0;t<r;t++){var n=(l(100)-50)*a,o=(l(100)-50)*a,s=["♠","♥","♦","♣"],c=s[l(s.length)];i.push({x:l(e.width),y:l(e.height),mx:n,my:o,suit:c})}}();var o=function(){t.fillStyle="#181818",t.fillRect(0,0,e.width,e.height);for(var r=0;i.length>r;r++){t.strokeStyle=n;for(var a=r+1;i.length>a;a++){var o=Math.sqrt(Math.pow(i[r].x-i[a].x,2)+Math.pow(i[r].y-i[a].y,2));o<120&&(t.globalAlpha=1-o/120,t.beginPath(),t.moveTo(i[r].x,i[r].y),t.lineTo(i[a].x,i[a].y),t.stroke(),t.globalAlpha=1)}(i[r].x+i[r].mx>e.width||i[r].x+i[r].mx<0)&&(i[r].mx=-1*i[r].mx),i[r].x=i[r].x+i[r].mx,(i[r].y+i[r].my>e.height||i[r].y+i[r].my<0)&&(i[r].my=-1*i[r].my),i[r].y=i[r].y+i[r].my,t.font="20px Arial",t.fillStyle=n,t.fillText(i[r].suit,i[r].x-5,i[r].y+5)}};function l(e){return Math.floor(Math.random()*Math.floor(e))}setInterval(o,20)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e=document.getElementById("player-deck"),t=document.getElementById("bot-deck"),r=document.getElementById("deck"),a=document.getElementById("table"),i=document.getElementById("pass-button"),o=document.getElementById("discarded-button"),l=document.getElementById("bot-message"),s=document.getElementById("i-take-button"),c=document.getElementById("player-and-bot-turn-p"),d=document.getElementById("win-text"),u=document.getElementById("bot-thinks"),g=document.getElementById("cards-count");e.addEventListener("wheel",(function(t){t.deltaMode===t.DOM_DELTA_PIXEL&&(e.scrollLeft+=t.deltaY,t.preventDefault())})),t.addEventListener("wheel",(function(e){e.deltaMode===e.DOM_DELTA_PIXEL&&(t.scrollLeft+=e.deltaY,e.preventDefault())}));const h=function(e){var t={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(e&&(e.target&&(t.target=e.target),e.max&&(t.max=e.max),e.size&&(t.size=e.size),void 0!==e.animate&&null!==e.animate&&(t.animate=e.animate),void 0!==e.respawn&&null!==e.respawn&&(t.respawn=e.respawn),e.props&&(t.props=e.props),e.colors&&(t.colors=e.colors),e.clock&&(t.clock=e.clock),void 0!==e.start_from_edge&&null!==e.start_from_edge&&(t.start_from_edge=e.start_from_edge),e.width&&(t.width=e.width),e.height&&(t.height=e.height),void 0!==e.rotate&&null!==e.rotate&&(t.rotate=e.rotate)),"object"!=typeof t.target&&"string"!=typeof t.target)throw new TypeError("The target parameter should be a node or string");if("object"==typeof t.target&&(null===t.target||!t.target instanceof HTMLCanvasElement)||"string"==typeof t.target&&(null===document.getElementById(t.target)||!document.getElementById(t.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var n="object"==typeof t.target?t.target:document.getElementById(t.target),r=n.getContext("2d"),a=[];function i(e,t){e||(e=1);var n=Math.random()*e;return t?Math.floor(n):n}var o=t.props.reduce((function(e,t){return e+(t.weight||1)}),0);function l(e){if(e){var n=e.radius<=3?.4:.8;switch(r.fillStyle=r.strokeStyle="rgba("+e.color+", "+n+")",r.beginPath(),e.prop){case"circle":r.moveTo(e.x,e.y),r.arc(e.x,e.y,e.radius*t.size,0,2*Math.PI,!0),r.fill();break;case"triangle":r.moveTo(e.x,e.y),r.lineTo(e.x+e.angles[0]*t.size,e.y+e.angles[1]*t.size),r.lineTo(e.x+e.angles[2]*t.size,e.y+e.angles[3]*t.size),r.closePath(),r.fill();break;case"line":r.moveTo(e.x,e.y),r.lineTo(e.x+e.line*t.size,e.y+5*e.radius),r.lineWidth=2*t.size,r.stroke();break;case"square":r.save(),r.translate(e.x+15,e.y+5),r.rotate(e.rotation),r.fillRect(-15*t.size,-5*t.size,15*t.size,5*t.size),r.restore();break;case"svg":r.save();var a=new window.Image;a.src=e.src;var i=e.size||15;r.translate(e.x+i/2,e.y+i/2),e.rotate&&r.rotate(e.rotation),r.drawImage(a,-i/2*t.size,-i/2*t.size,i*t.size,i*t.size),r.restore()}}}var s=function(){t.animate=!1,clearInterval(t.interval),requestAnimationFrame((function(){r.clearRect(0,0,n.width,n.height);var e=n.width;n.width=1,n.width=e}))};return{render:function(){n.width=t.width,n.height=t.height,a=[];for(var e=0;e<t.max;e++)a.push((c=void 0,c=t.props[function(){for(var e=Math.random()*o,n=0;n<t.props.length;++n){var r=t.props[n].weight||1;if(e<r)return n;e-=r}}()],{prop:c.type?c.type:c,x:i(t.width),y:t.start_from_edge?t.clock>=0?-10:parseFloat(t.height)+10:i(t.height),src:c.src,radius:i(4)+1,size:c.size,rotate:t.rotate,line:Math.floor(i(65)-30),angles:[i(10,!0)+2,i(10,!0)+2,i(10,!0)+2,i(10,!0)+2],color:t.colors[i(t.colors.length,!0)],rotation:i(360,!0)*Math.PI/180,speed:i(t.clock/7)+t.clock/30}));var c;return requestAnimationFrame((function e(){for(var n in r.clearRect(0,0,t.width,t.height),a)l(a[n]);!function(){for(var e=0;e<t.max;e++){var n=a[e];n&&(t.animate&&(n.y+=n.speed),n.rotate&&(n.rotation+=n.speed/35),(n.speed>=0&&n.y>t.height||n.speed<0&&n.y<0)&&(t.respawn?(a[e]=n,a[e].x=i(t.width,!0),a[e].y=n.speed>=0?-10:parseFloat(t.height)):a[e]=void 0))}a.every((function(e){return void 0===e}))&&s()}(),t.animate&&requestAnimationFrame(e)}))},clear:s}},m=n.p+"aa7ed98eeac8ef0f0c9b.svg";var f=function(e){document.getElementById("win-btn").className+=!e&&" blue";var t=document.getElementById("win-canvas");new h({target:t,rotate:!0,start_from_edge:!0,max:e?15:60,props:e?[{type:"svg",src:m,size:45,weight:1}]:["circle","square","triangle","line"]}).render(),setTimeout((function(){document.getElementById("win-section").style.display="flex"}),1e3)};document.getElementById("win-btn").addEventListener("click",(function(){window.location.reload()}));const p=JSON.parse('{"title":{"ua":"Дурак","en":"Durak","ru":"Дурак"},"plug":{"ua":"Будь ласка, використовуйте широкоекранний пристрій","en":"Please use a widescreen device","ru":"Пожалуйста, используйте широкоэкранное устройство"},"player-won":{"ua":"Гравець виграв","en":"PLayer Won","ru":"Игрок выиграл"},"bot-won":{"ua":"Бот виграв","en":"Bot Won","ru":"Бот выиграл"},"play-again":{"ua":"Грати знову","en":"Play again","ru":"Играть снова"},"durak":{"ua":"Дурак","en":"Durak","ru":"Дурак"},"card-game":{"ua":"Карткова гра","en":"Card Game","ru":"Карточная игра"},"start-game":{"ua":"Почати гру","en":"Start game","ru":"Начать игру"},"bot-thinks":{"ua":"Бот думає","en":"Bot thinks","ru":"Бот думает"},"i-take":{"ua":"Взяти","en":"I take","ru":"Взять"},"pass":{"ua":"Пас","en":"Pass","ru":"Пас"},"discarded":{"ua":"Біто","en":"Discarded","ru":"Бито"},"bots-turn":{"ua":"Черга бота","en":"Bot\'s turn","ru":"Очередь бота"},"your-turn":{"ua":"Ваша черга","en":"Your turn","ru":"Ваш ход"}}');var y=document.querySelector(".lang-holder"),v=["en","ru","ua"],w="en";w=localStorage.getItem("lang"),v.includes(w)||(w="en",localStorage.setItem("lang","en")),document.querySelector("[data-lang=".concat(w,"]")).className+=" select",y.addEventListener("click",(function(e){var t=e.target,n=t.dataset.lang;"DIV"===t.tagName&&v.includes(n)&&(localStorage.setItem("lang",n),document.querySelectorAll(".lang").forEach((function(e){return e.className="lang red"})),t.className+=" select",x())}));var x=function(){for(var e in w=localStorage.getItem("lang"),v.includes(w)||(w="en",localStorage.setItem("lang","en")),document.querySelector("title").innerHTML=p.title[w],p){var t=document.querySelector(".lng-".concat(e));t&&(t.innerHTML=p[e][w])}};x();var b,E=function(e,t){"♥"===e.slice(-1)?t.className+=" red":"♣"===e.slice(-1)?t.className+=" green":"♦"===e.slice(-1)?t.className+=" blue":t.className+=" black"},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=["6","7","8","9","10","J","Q","K","A"],a=["♠","♥","♦","♣"].filter((function(e){return e!==H}));a.push(H);var i=r.indexOf(e.slice(0,-1)),o=a.indexOf(e.slice(-1)),l=r.indexOf(t.slice(0,-1)),s=a.indexOf(t.slice(-1));return"botAttack"===n||o===s?i-l:o-s},I=function(e){return D.length?D.includes(e.slice(0,-1)):(D.push(e.slice(0,-1)),!0)},L=function(e,t){var n=["6","7","8","9","10","J","Q","K","A"];return n.indexOf(e)>n.indexOf(t)},B=function(e,t,n){var r=e.slice(0,-1),a=e.slice(-1),i=t.slice(0,-1),o=t.slice(-1),l=a===n,s=o===n;return!(!l||s)||(l&&s?L(r,i):l||s?!(!l&&s)&&void 0:a===o&&L(r,i))},T=function(e){e?(u.className="active",a.style.pointerEvents="none"):(u.className="",a.style.pointerEvents="")},M=function(){q.length||(j.length?J.length||(d.innerHTML=p["bot-won"][w],d.className+=" red",f(!0)):(d.innerHTML=p["player-won"][w],d.className+=" blue",f(!1)))},A=function(){for(var t=0;t<e.children.length;t++)e.children[t].style.border="",e.children[t].style.scale="",e.children[t].style.margin=""},z=function(){b=null};function S(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _,P,C,H,O=function e(){(!_&&F.length||_)&&T(!0),setTimeout((function(){if(P&&!C)for(var n=0;n<R.length;n++)for(var r=0;r<J.length;r++){if(B(J[r],R[n],H)){R.splice(n,1),F.push(J[r]),D.push(J[r].slice(0,-1)),t.children[r].className="card defense",E(J[r],t.children[r]),a.children[W.length-1].appendChild(t.children[r]),J.splice(r,1),R.length||(o.style.display="block");break}o.style.display="",r+1===J.length&&(C=!0,$())}else if(_){var i=S(J);i.sort((function(e,t){return k(e,t,"botAttack")})),i=i.filter((function(e){return!e.endsWith(H)})),i.length||(i=S(J.sort((function(e,t){return k(e,t,"botAttack")}))));var l=i[0];if(Y.length){i=[];for(var s=0;s<J.length;s++)I(J[s])&&i.push(J[s]);l=i[0]}if(R.length||void 0!==l||(z(),X(),Z(!1),U(!0),o.style.display="none",V(!0),G()),void 0===l)return T(!1);if(Y.length<6&&I(l)){var c=document.querySelector("[data-card='".concat(l,"']"));c.className="card attack",E(l,c),a.children[Y.length].appendChild(c),Y.push(l),F.push(l),R.push(l);var d=J.indexOf(l);J.splice(d,1),e()}else Y.length>5&&!R.length&&(z(),X(),Z(!1),U(!0),o.style.display="none",V(!0),G())}M(),T(!1)}),1e3)},q=[],D=[],F=[],R=[],W=[],Y=[],j=[],J=[],K=function(){r.innerHTML="";for(var e=0;e<q.length;e++){var t=q[e],n=document.createElement("div");n.innerHTML="\n    <div class='top'>".concat(t,"</div>\n    <div class='suit'>").concat(t.slice(-1),"</div>\n    <div class='bottom'>").concat(t,"</div>\n  "),n.dataset.card=t,n.className=e+1<q.length?"card hide":"card visible",E(t,n),e+1<q.length&&(n.style.transform="translate(".concat(-e/5,"px, ").concat(-e/5,"px )")),r.appendChild(n)}q.length?g.innerHTML=q.length+"":(g.innerHTML=H,g.style.fontSize="40px",g.style.top="50%",g.style.transform="translateY(-50%)")},Q=function(n,r){var a=n===j?e:t;if(a.innerHTML="",Array.isArray(r))for(var i=0;i<r.length;i++)n.push(r[i]);else if("number"==typeof r)for(var o=0;o<r&&q.length;o++){var l=q.shift();void 0!==l&&n.push(l)}n.sort(k);for(var s=0;s<n.length;s++){var c=document.createElement("div");c.innerHTML="\n  <div class='top'>".concat(n[s],"</div>\n  <div class='suit'>").concat(n[s].slice(-1),"</div>\n  <div class='bottom'>").concat(n[s],"</div>\n"),c.dataset.card=n[s],c.className=a===t?"card hide":"card visible",E(n[s],c),a.appendChild(c)}K()},X=function(){_?(Q(J,6-J.length),Q(j,6-j.length)):(Q(j,6-j.length),Q(J,6-J.length))},$=function(){_?(c.innerText=p["bots-turn"][w],s.style.display="block"):(c.innerText=p["your-turn"][w],s.style.display="none"),C?(l.innerText="I Take",i.style.display="block"):l.innerText=""},G=function(){W.length=0,Y.length=0,R.length=0,F.length=0,D.length=0,$()},U=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])for(var e=Array.from(document.querySelectorAll("#table .card")),t=function(){var e=r[n];e.className+=" trash",e.style.left=e.getBoundingClientRect().x+"px",e.style.top=e.getBoundingClientRect().y+"px",document.body.append(e),setTimeout((function(){e.remove()}),1e3)},n=0,r=e;n<r.length;n++)t();for(var i=0;i<a.children.length;i++)a.children[i].innerHTML=""};function V(e){P=e}function Z(e){_=e}i.addEventListener("click",(function(){Q(J,F),U(),Q(j,6-j.length),i.style.display="none",C=!1,G()})),o.addEventListener("click",(function(){U(!0),X(),o.style.display="none",_=!0,P=!1,G(),O()})),s.addEventListener("click",(function(){Q(j,F),U(),Q(J,6-J.length),s.style.display="none",o.style.display="none",_=!0,P=!1,G(),O()}));const ee=n.p+"acd9d0276e8ec92bf543.svg",te=n.p+"77d8d18f93543f661232.svg",ne=n.p+"ca7869ef10fcd9db17cd.svg",re=n.p+"2bbe5751557b07ea5247.svg";var ae=document.getElementById("game-canvas");new h({target:ae,rotate:!0,start_from_edge:!0,max:8,clock:1,props:[{type:"svg",src:ee,size:25,weight:1},{type:"svg",src:te,size:22,weight:1},{type:"svg",src:ne,size:20,weight:1},{type:"svg",src:re,size:20,weight:1}]}).render(),n(77),n(405);document.getElementById("start-game-button").addEventListener("click",(function(){var t,n,r,i,o,l,s,c,d,u;document.getElementById("start-section").style.display="none",document.getElementById("game-section").style.display="grid",_=Boolean(Math.floor(2*Math.random())),function(e){e.length=0,e.push("6♠","7♠","8♠","9♠","10♠","J♠","Q♠","K♠","A♠","6♣","7♣","8♣","9♣","10♣","J♣","Q♣","K♣","A♣","6♥","7♥","8♥","9♥","10♥","J♥","Q♥","K♥","A♥","6♦","7♦","8♦","9♦","10♦","J♦","Q♦","K♦","A♦");for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}(q),H=q[q.length-1].slice(-1),E(" "+H,g),K(),Q(j,6),Q(J,6),G(),O(),c=function(e){((o=Boolean(e.touches))?e.touches[0].target:e.target).classList.contains("card")&&(t=e.target,i=o?e.touches[0].clientY:e.clientY,t.style.border="1px solid rgb(255, 255, 255)",t.style.scale="0.9",t.style.margin="0 10px",o?document.addEventListener("touchmove",d):document.addEventListener("mousemove",d))},d=function(a){if(l=o?a.touches[0].clientX:a.clientX,s=o?a.touches[0].clientY:a.clientY,b)return b.style.left=l-n+"px",b.style.top=s-r+"px",b.style.zIndex="2",void(b.style.position="fixed");if(e.getBoundingClientRect().y>s&&t&&!b){b=t,t=null;var c=b.getBoundingClientRect();n=c.width/2,r=c.height/2}else t&&t!==document.elementFromPoint(l,i)&&document.elementFromPoint(l,i).classList.contains("card")&&(A(),(t=document.elementFromPoint(l,i)).style.border="1px solid rgb(255, 255, 255)",t.style.scale="0.9",t.style.margin="0 10px")},u=function(e){if(document.removeEventListener("mousemove",d),document.removeEventListener("touchmove",d),A(),b){b.style.display="none";var n=document.elementFromPoint(l,s);if(n.classList.contains("card")&&(n=n.parentElement),b.style.display="",n.childNodes.length<2){var r=a.getBoundingClientRect();if(l>=r.left&&l<=r.right&&s>=r.top&&s<=r.bottom&&n.classList.contains("table__card-holder")){var i=b.dataset.card;if(!_&&W.length<6&&I(i)){b.className="card attack",E(i,b),a.children[W.length].appendChild(b),W.push(i),F.push(i),R.push(i);var o=j.indexOf(i);j.splice(o,1),V(!0),O(),$()}else if(_&&n.childNodes.length){var c=n.firstChild.dataset.card;B(i,c,H)&&(R.splice(R.indexOf(c),1),F.push(i),D.push(i.slice(0,-1)),b.className="card defense",E(i,b),n.appendChild(b),j.splice(j.indexOf(i),1),O(),$())}}}b.style.left="",b.style.top="",b.style.zIndex="",b.style.position="",b=null,t=null,M()}},e.addEventListener("mousedown",c),e.addEventListener("touchstart",c),document.addEventListener("mouseup",u),document.addEventListener("touchend",u)}))})()})();